<div (click)="toggleSideBar()" [@display]="animateState" class="bg-black z-40 opacity-65 w-full h-full fixed left-0 top-0">
  k
</div>
<div [@toRight]="animateState" class="bg-white rounded-md z-50 fixed left-0 top-0 h-screen w-96 ">
  <div class="flex flex-col mx-4 my-6">
    <div class="flex flex-row justify-center items-center gap-16 relative">
      <button (click)="toggleSideBar()" class="absolute right-0">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
          class="w-6 h-6 txt-xl-grey">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
        </svg>
        <span class="hidden">c</span>
      </button>

      <h3 class="font-bold text-sm text-center">حدد الفرع الأقرب لك</h3>
    </div>
    <button class="flex gap-2 my-5 border br-main border-dashed rounded-lg p-3">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="w-5 h-5 txt-main">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
      </svg>
      <p class="text-sm underline underline-offset-2">استخدم موقعي الحالي واختر أقرب فرع.</p>
    </button>
    <p class="font-bold text-center text-sm">أو</p>
    
    <p class="text-xs font-bold mt-4 underline underline-offset-2">اختر حسب المدينة :</p>
    <div class="grid grid-cols-3 gap-3 my-3">
      <div (click)="cityClicked(city)" *ngFor="let city of cities" class="border border-gray-500 rounded-md text-sm text-center py-1 cursor-pointer">
        {{city}}
      </div>
    </div>
    <div [class.hidden]="!showBranches" class="bg-grey rounded-lg h-52 my-3 p-4">
      <p class="text-xs font-bold mb-2">الأفرع في <span>{{city}}</span></p>
      <hr>
      <div class="flex flex-col text-sm my-2 h-5/6 overflow-y-auto">
        <button class="flex gap-2 my-2" *ngFor="let branch of branches">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z" />
          </svg>

          <p class="hover font-bold">{{branch}}</p>
        </button>
      </div>
    </div>
  </div>
</div>
